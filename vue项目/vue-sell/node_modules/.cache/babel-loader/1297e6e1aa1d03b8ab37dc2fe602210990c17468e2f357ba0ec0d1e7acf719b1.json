{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport { createNamespace } from '../utils';\nimport { sortChildren } from '../utils/vnodes';\nvar _createNamespace = createNamespace('form'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1];\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    submitOnEnter: {\n      type: Boolean,\n      \"default\": true\n    },\n    validateTrigger: {\n      type: String,\n      \"default\": 'onBlur'\n    },\n    showError: {\n      type: Boolean,\n      \"default\": true\n    },\n    showErrorMessage: {\n      type: Boolean,\n      \"default\": true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    getFieldsByNames: function getFieldsByNames(names) {\n      if (names) {\n        return this.fields.filter(function (field) {\n          return names.indexOf(field.name) !== -1;\n        });\n      }\n      return this.fields;\n    },\n    validateSeq: function validateSeq(names) {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n        var fields = _this.getFieldsByNames(names);\n        fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateFields: function validateFields(names) {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        var fields = _this2.getFieldsByNames(names);\n        Promise.all(fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name && !Array.isArray(name)) {\n        return this.validateField(name);\n      }\n      return this.validateFirst ? this.validateSeq(name) : this.validateFields(name);\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      if (name && !Array.isArray(name)) {\n        name = [name];\n      }\n      var fields = this.getFieldsByNames(name);\n      fields.forEach(function (item) {\n        item.resetValidation();\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name, options) {\n      this.fields.some(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n        return false;\n      });\n    },\n    addField: function addField(field) {\n      this.fields.push(field);\n      sortChildren(this.fields, this);\n    },\n    removeField: function removeField(field) {\n      this.fields = this.fields.filter(function (item) {\n        return item !== field;\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      })[\"catch\"](function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});","map":{"version":3,"names":["createNamespace","sortChildren","_createNamespace","createComponent","bem","props","colon","Boolean","disabled","readonly","labelWidth","Number","String","labelAlign","inputAlign","scrollToError","validateFirst","errorMessageAlign","submitOnEnter","type","validateTrigger","showError","showErrorMessage","provide","vanForm","data","fields","methods","getFieldsByNames","names","filter","field","indexOf","name","validateSeq","_this","Promise","resolve","reject","errors","reduce","promise","then","length","validate","error","push","validateFields","_this2","all","map","item","Array","isArray","validateField","matched","resetValidation","forEach","scrollToField","options","some","$el","scrollIntoView","addField","removeField","getValues","form","formValue","onSubmit","event","preventDefault","submit","_this3","values","$emit","render","h","arguments","slots"],"sources":["C:/Users/方鹏/Desktop/codingSpace/vue项目/vue-sell/node_modules/vant/es/form/index.js"],"sourcesContent":["import { createNamespace } from '../utils';\nimport { sortChildren } from '../utils/vnodes';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    submitOnEnter: {\n      type: Boolean,\n      default: true\n    },\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    getFieldsByNames: function getFieldsByNames(names) {\n      if (names) {\n        return this.fields.filter(function (field) {\n          return names.indexOf(field.name) !== -1;\n        });\n      }\n\n      return this.fields;\n    },\n    validateSeq: function validateSeq(names) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        var fields = _this.getFieldsByNames(names);\n\n        fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateFields: function validateFields(names) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var fields = _this2.getFieldsByNames(names);\n\n        Promise.all(fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name && !Array.isArray(name)) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq(name) : this.validateFields(name);\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      if (name && !Array.isArray(name)) {\n        name = [name];\n      }\n\n      var fields = this.getFieldsByNames(name);\n      fields.forEach(function (item) {\n        item.resetValidation();\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name, options) {\n      this.fields.some(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n\n        return false;\n      });\n    },\n    addField: function addField(field) {\n      this.fields.push(field);\n      sortChildren(this.fields, this);\n    },\n    removeField: function removeField(field) {\n      this.fields = this.fields.filter(function (item) {\n        return item !== field;\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}