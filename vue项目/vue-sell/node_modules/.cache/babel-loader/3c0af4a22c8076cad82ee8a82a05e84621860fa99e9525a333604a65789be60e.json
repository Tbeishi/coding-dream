{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.string.fixed.js\";\nimport { isHidden } from '../utils/dom/style';\nimport { unitToPx } from '../utils/format/unit';\nimport { createNamespace, isDef, isServer } from '../utils';\nimport { getScrollTop, getElementTop, getScroller } from '../utils/dom/scroll';\nimport { BindEventMixin } from '../mixins/bind-event';\nvar _createNamespace = createNamespace('sticky'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1];\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind, isBind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n    if (this.observer) {\n      var method = isBind ? 'observe' : 'unobserve';\n      this.observer[method](this.$el);\n    }\n    bind(this.scroller, 'scroll', this.onScroll, true);\n    this.onScroll();\n  })],\n  props: {\n    zIndex: [Number, String],\n    container: null,\n    offsetTop: {\n      type: [Number, String],\n      \"default\": 0\n    }\n  },\n  data: function data() {\n    return {\n      fixed: false,\n      height: 0,\n      transform: 0\n    };\n  },\n  computed: {\n    offsetTopPx: function offsetTopPx() {\n      return unitToPx(this.offsetTop);\n    },\n    style: function style() {\n      if (!this.fixed) {\n        return;\n      }\n      var style = {};\n      if (isDef(this.zIndex)) {\n        style.zIndex = this.zIndex;\n      }\n      if (this.offsetTopPx && this.fixed) {\n        style.top = this.offsetTopPx + \"px\";\n      }\n      if (this.transform) {\n        style.transform = \"translate3d(0, \" + this.transform + \"px, 0)\";\n      }\n      return style;\n    }\n  },\n  watch: {\n    fixed: function fixed(isFixed) {\n      this.$emit('change', isFixed);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    // compatibility: https://caniuse.com/#feat=intersectionobserver\n    if (!isServer && window.IntersectionObserver) {\n      this.observer = new IntersectionObserver(function (entries) {\n        // trigger scroll when visibility changed\n        if (entries[0].intersectionRatio > 0) {\n          _this.onScroll();\n        }\n      }, {\n        root: document.body\n      });\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this2 = this;\n      if (isHidden(this.$el)) {\n        return;\n      }\n      this.height = this.$el.offsetHeight;\n      var container = this.container,\n        offsetTopPx = this.offsetTopPx;\n      var scrollTop = getScrollTop(window);\n      var topToPageTop = getElementTop(this.$el);\n      var emitScrollEvent = function emitScrollEvent() {\n        _this2.$emit('scroll', {\n          scrollTop: scrollTop,\n          isFixed: _this2.fixed\n        });\n      }; // The sticky component should be kept inside the container element\n\n      if (container) {\n        var bottomToPageTop = topToPageTop + container.offsetHeight;\n        if (scrollTop + offsetTopPx + this.height > bottomToPageTop) {\n          var distanceToBottom = this.height + scrollTop - bottomToPageTop;\n          if (distanceToBottom < this.height) {\n            this.fixed = true;\n            this.transform = -(distanceToBottom + offsetTopPx);\n          } else {\n            this.fixed = false;\n          }\n          emitScrollEvent();\n          return;\n        }\n      }\n      if (scrollTop + offsetTopPx > topToPageTop) {\n        this.fixed = true;\n        this.transform = 0;\n      } else {\n        this.fixed = false;\n      }\n      emitScrollEvent();\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var fixed = this.fixed;\n    var style = {\n      height: fixed ? this.height + \"px\" : null\n    };\n    return h(\"div\", {\n      \"style\": style\n    }, [h(\"div\", {\n      \"class\": bem({\n        fixed: fixed\n      }),\n      \"style\": this.style\n    }, [this.slots()])]);\n  }\n});","map":{"version":3,"names":["isHidden","unitToPx","createNamespace","isDef","isServer","getScrollTop","getElementTop","getScroller","BindEventMixin","_createNamespace","createComponent","bem","mixins","bind","isBind","scroller","$el","observer","method","onScroll","props","zIndex","Number","String","container","offsetTop","type","data","fixed","height","transform","computed","offsetTopPx","style","top","watch","isFixed","$emit","created","_this","window","IntersectionObserver","entries","intersectionRatio","root","document","body","methods","_this2","offsetHeight","scrollTop","topToPageTop","emitScrollEvent","bottomToPageTop","distanceToBottom","render","h","arguments","slots"],"sources":["C:/Users/方鹏/Desktop/codingSpace/vue项目/vue-sell/node_modules/vant/es/sticky/index.js"],"sourcesContent":["import { isHidden } from '../utils/dom/style';\nimport { unitToPx } from '../utils/format/unit';\nimport { createNamespace, isDef, isServer } from '../utils';\nimport { getScrollTop, getElementTop, getScroller } from '../utils/dom/scroll';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sticky'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind, isBind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    if (this.observer) {\n      var method = isBind ? 'observe' : 'unobserve';\n      this.observer[method](this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll, true);\n    this.onScroll();\n  })],\n  props: {\n    zIndex: [Number, String],\n    container: null,\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      fixed: false,\n      height: 0,\n      transform: 0\n    };\n  },\n  computed: {\n    offsetTopPx: function offsetTopPx() {\n      return unitToPx(this.offsetTop);\n    },\n    style: function style() {\n      if (!this.fixed) {\n        return;\n      }\n\n      var style = {};\n\n      if (isDef(this.zIndex)) {\n        style.zIndex = this.zIndex;\n      }\n\n      if (this.offsetTopPx && this.fixed) {\n        style.top = this.offsetTopPx + \"px\";\n      }\n\n      if (this.transform) {\n        style.transform = \"translate3d(0, \" + this.transform + \"px, 0)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    fixed: function fixed(isFixed) {\n      this.$emit('change', isFixed);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    // compatibility: https://caniuse.com/#feat=intersectionobserver\n    if (!isServer && window.IntersectionObserver) {\n      this.observer = new IntersectionObserver(function (entries) {\n        // trigger scroll when visibility changed\n        if (entries[0].intersectionRatio > 0) {\n          _this.onScroll();\n        }\n      }, {\n        root: document.body\n      });\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this2 = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      this.height = this.$el.offsetHeight;\n      var container = this.container,\n          offsetTopPx = this.offsetTopPx;\n      var scrollTop = getScrollTop(window);\n      var topToPageTop = getElementTop(this.$el);\n\n      var emitScrollEvent = function emitScrollEvent() {\n        _this2.$emit('scroll', {\n          scrollTop: scrollTop,\n          isFixed: _this2.fixed\n        });\n      }; // The sticky component should be kept inside the container element\n\n\n      if (container) {\n        var bottomToPageTop = topToPageTop + container.offsetHeight;\n\n        if (scrollTop + offsetTopPx + this.height > bottomToPageTop) {\n          var distanceToBottom = this.height + scrollTop - bottomToPageTop;\n\n          if (distanceToBottom < this.height) {\n            this.fixed = true;\n            this.transform = -(distanceToBottom + offsetTopPx);\n          } else {\n            this.fixed = false;\n          }\n\n          emitScrollEvent();\n          return;\n        }\n      }\n\n      if (scrollTop + offsetTopPx > topToPageTop) {\n        this.fixed = true;\n        this.transform = 0;\n      } else {\n        this.fixed = false;\n      }\n\n      emitScrollEvent();\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var fixed = this.fixed;\n    var style = {\n      height: fixed ? this.height + \"px\" : null\n    };\n    return h(\"div\", {\n      \"style\": style\n    }, [h(\"div\", {\n      \"class\": bem({\n        fixed: fixed\n      }),\n      \"style\": this.style\n    }, [this.slots()])]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}