{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.find.js\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Mixins\n\nimport { ParentMixin } from '../../mixins/relation';\nimport { BindEventMixin } from '../../mixins/bind-event';\nvar _createNamespace = createNamespace('sku-row'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1],\n  t = _createNamespace[2];\nexport { bem };\nexport default createComponent({\n  mixins: [ParentMixin('vanSkuRows'), BindEventMixin(function (bind) {\n    if (this.scrollable && this.$refs.scroller) {\n      bind(this.$refs.scroller, 'scroll', this.onScroll);\n    }\n  })],\n  props: {\n    skuRow: Object\n  },\n  data: function data() {\n    return {\n      progress: 0\n    };\n  },\n  computed: {\n    scrollable: function scrollable() {\n      return this.skuRow.largeImageMode && this.skuRow.v.length > 6;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this$$refs = this.$refs,\n        scroller = _this$$refs.scroller,\n        row = _this$$refs.row;\n      var distance = row.offsetWidth - scroller.offsetWidth;\n      this.progress = scroller.scrollLeft / distance;\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('title')\n      }, [this.skuRow.k, this.skuRow.is_multiple && h(\"span\", {\n        \"class\": bem('title-multiple')\n      }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"])]);\n    },\n    genIndicator: function genIndicator() {\n      var h = this.$createElement;\n      if (this.scrollable) {\n        var style = {\n          transform: \"translate3d(\" + this.progress * 20 + \"px, 0, 0)\"\n        };\n        return h(\"div\", {\n          \"class\": bem('indicator-wrapper')\n        }, [h(\"div\", {\n          \"class\": bem('indicator')\n        }, [h(\"div\", {\n          \"class\": bem('indicator-slider'),\n          \"style\": style\n        })])]);\n      }\n    },\n    genContent: function genContent() {\n      var h = this.$createElement;\n      var nodes = this.slots();\n      if (this.skuRow.largeImageMode) {\n        var top = [];\n        var bottom = [];\n        nodes.forEach(function (node, index) {\n          var group = Math.floor(index / 3) % 2 === 0 ? top : bottom;\n          group.push(node);\n        });\n        return h(\"div\", {\n          \"class\": bem('scroller'),\n          \"ref\": \"scroller\"\n        }, [h(\"div\", {\n          \"class\": bem('row'),\n          \"ref\": \"row\"\n        }, [top]), bottom.length ? h(\"div\", {\n          \"class\": bem('row')\n        }, [bottom]) : null]);\n      }\n      return nodes;\n    },\n    centerItem: function centerItem(selectSkuId) {\n      if (!this.skuRow.largeImageMode || !selectSkuId) {\n        return;\n      }\n      var _this$children = this.children,\n        children = _this$children === void 0 ? [] : _this$children;\n      var _this$$refs2 = this.$refs,\n        scroller = _this$$refs2.scroller,\n        row = _this$$refs2.row;\n      var child = children.find(function (it) {\n        return +it.skuValue.id === +selectSkuId;\n      });\n      if (scroller && row && child && child.$el) {\n        var target = child.$el;\n        var to = target.offsetLeft - (scroller.offsetWidth - target.offsetWidth) / 2;\n        scroller.scrollLeft = to;\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": [bem(), BORDER_BOTTOM]\n    }, [this.genTitle(), this.genContent(), this.genIndicator()]);\n  }\n});","map":{"version":3,"names":["createNamespace","BORDER_BOTTOM","ParentMixin","BindEventMixin","_createNamespace","createComponent","bem","t","mixins","bind","scrollable","$refs","scroller","onScroll","props","skuRow","Object","data","progress","computed","largeImageMode","v","length","methods","_this$$refs","row","distance","offsetWidth","scrollLeft","genTitle","h","$createElement","k","is_multiple","genIndicator","style","transform","genContent","nodes","slots","top","bottom","forEach","node","index","group","Math","floor","push","centerItem","selectSkuId","_this$children","children","_this$$refs2","child","find","it","skuValue","id","$el","target","to","offsetLeft","render","arguments"],"sources":["C:/Users/方鹏/Desktop/codingSpace/vue项目/vue-sell/node_modules/vant/es/sku/components/SkuRow.js"],"sourcesContent":["// Utils\nimport { createNamespace } from '../../utils';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Mixins\n\nimport { ParentMixin } from '../../mixins/relation';\nimport { BindEventMixin } from '../../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sku-row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport { bem };\nexport default createComponent({\n  mixins: [ParentMixin('vanSkuRows'), BindEventMixin(function (bind) {\n    if (this.scrollable && this.$refs.scroller) {\n      bind(this.$refs.scroller, 'scroll', this.onScroll);\n    }\n  })],\n  props: {\n    skuRow: Object\n  },\n  data: function data() {\n    return {\n      progress: 0\n    };\n  },\n  computed: {\n    scrollable: function scrollable() {\n      return this.skuRow.largeImageMode && this.skuRow.v.length > 6;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this$$refs = this.$refs,\n          scroller = _this$$refs.scroller,\n          row = _this$$refs.row;\n      var distance = row.offsetWidth - scroller.offsetWidth;\n      this.progress = scroller.scrollLeft / distance;\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('title')\n      }, [this.skuRow.k, this.skuRow.is_multiple && h(\"span\", {\n        \"class\": bem('title-multiple')\n      }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"])]);\n    },\n    genIndicator: function genIndicator() {\n      var h = this.$createElement;\n\n      if (this.scrollable) {\n        var style = {\n          transform: \"translate3d(\" + this.progress * 20 + \"px, 0, 0)\"\n        };\n        return h(\"div\", {\n          \"class\": bem('indicator-wrapper')\n        }, [h(\"div\", {\n          \"class\": bem('indicator')\n        }, [h(\"div\", {\n          \"class\": bem('indicator-slider'),\n          \"style\": style\n        })])]);\n      }\n    },\n    genContent: function genContent() {\n      var h = this.$createElement;\n      var nodes = this.slots();\n\n      if (this.skuRow.largeImageMode) {\n        var top = [];\n        var bottom = [];\n        nodes.forEach(function (node, index) {\n          var group = Math.floor(index / 3) % 2 === 0 ? top : bottom;\n          group.push(node);\n        });\n        return h(\"div\", {\n          \"class\": bem('scroller'),\n          \"ref\": \"scroller\"\n        }, [h(\"div\", {\n          \"class\": bem('row'),\n          \"ref\": \"row\"\n        }, [top]), bottom.length ? h(\"div\", {\n          \"class\": bem('row')\n        }, [bottom]) : null]);\n      }\n\n      return nodes;\n    },\n    centerItem: function centerItem(selectSkuId) {\n      if (!this.skuRow.largeImageMode || !selectSkuId) {\n        return;\n      }\n\n      var _this$children = this.children,\n          children = _this$children === void 0 ? [] : _this$children;\n      var _this$$refs2 = this.$refs,\n          scroller = _this$$refs2.scroller,\n          row = _this$$refs2.row;\n      var child = children.find(function (it) {\n        return +it.skuValue.id === +selectSkuId;\n      });\n\n      if (scroller && row && child && child.$el) {\n        var target = child.$el;\n        var to = target.offsetLeft - (scroller.offsetWidth - target.offsetWidth) / 2;\n        scroller.scrollLeft = to;\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": [bem(), BORDER_BOTTOM]\n    }, [this.genTitle(), this.genContent(), this.genIndicator()]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}