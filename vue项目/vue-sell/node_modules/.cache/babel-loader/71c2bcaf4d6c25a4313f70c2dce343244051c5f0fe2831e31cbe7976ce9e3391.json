{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { bem } from './SkuRow';\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\nimport { ChildrenMixin } from '../../mixins/relation';\nimport Icon from '../../icon';\nimport Image from '../../image';\nvar _createNamespace = createNamespace('sku-row-item'),\n  createComponent = _createNamespace[0];\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSkuRows')],\n  props: {\n    lazyLoad: Boolean,\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    largeImageMode: Boolean,\n    disableSoldoutSku: Boolean,\n    skuList: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    imgUrl: function imgUrl() {\n      var url = this.skuValue.imgUrl || this.skuValue.img_url;\n      return this.largeImageMode ? url || 'https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png' : url;\n    },\n    choosable: function choosable() {\n      if (!this.disableSoldoutSku) {\n        return true;\n      }\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    },\n    onPreviewImg: function onPreviewImg(event) {\n      event.stopPropagation();\n      var skuValue = this.skuValue,\n        skuKeyStr = this.skuKeyStr;\n      this.skuEventBus.$emit('sku:previewImage', _extends({}, skuValue, {\n        ks: skuKeyStr,\n        imgUrl: skuValue.imgUrl || skuValue.img_url\n      }));\n    },\n    genImage: function genImage(classPrefix) {\n      var h = this.$createElement;\n      if (this.imgUrl) {\n        return h(Image, {\n          \"attrs\": {\n            \"fit\": \"cover\",\n            \"src\": this.imgUrl,\n            \"lazyLoad\": this.lazyLoad\n          },\n          \"class\": classPrefix + \"-img\"\n        });\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var classPrefix = this.largeImageMode ? bem('image-item') : bem('item');\n    return h(\"span\", {\n      \"class\": [classPrefix, choosed ? classPrefix + \"--active\" : '', !this.choosable ? classPrefix + \"--disabled\" : ''],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [this.genImage(classPrefix), h(\"div\", {\n      \"class\": classPrefix + \"-name\"\n    }, [this.largeImageMode ? h(\"span\", {\n      \"class\": {\n        'van-multi-ellipsis--l2': this.largeImageMode\n      }\n    }, [this.skuValue.name]) : this.skuValue.name]), this.largeImageMode && h(Icon, {\n      \"attrs\": {\n        \"name\": \"enlarge\"\n      },\n      \"class\": classPrefix + \"-img-icon\",\n      \"on\": {\n        \"click\": this.onPreviewImg\n      }\n    })]);\n  }\n});","map":{"version":3,"names":["_extends","bem","createNamespace","isSkuChoosable","ChildrenMixin","Icon","Image","_createNamespace","createComponent","mixins","props","lazyLoad","Boolean","skuValue","Object","skuKeyStr","String","skuEventBus","selectedSku","largeImageMode","disableSoldoutSku","skuList","type","Array","_default","computed","imgUrl","url","img_url","choosable","key","valueId","id","methods","onSelect","$emit","onPreviewImg","event","stopPropagation","ks","genImage","classPrefix","h","$createElement","render","arguments","choosed","name"],"sources":["C:/Users/方鹏/Desktop/codingSpace/vue项目/vue-sell/node_modules/vant/es/sku/components/SkuRowItem.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { bem } from './SkuRow';\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\nimport { ChildrenMixin } from '../../mixins/relation';\nimport Icon from '../../icon';\nimport Image from '../../image';\n\nvar _createNamespace = createNamespace('sku-row-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSkuRows')],\n  props: {\n    lazyLoad: Boolean,\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    largeImageMode: Boolean,\n    disableSoldoutSku: Boolean,\n    skuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    imgUrl: function imgUrl() {\n      var url = this.skuValue.imgUrl || this.skuValue.img_url;\n      return this.largeImageMode ? url || 'https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png' : url;\n    },\n    choosable: function choosable() {\n      if (!this.disableSoldoutSku) {\n        return true;\n      }\n\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    },\n    onPreviewImg: function onPreviewImg(event) {\n      event.stopPropagation();\n      var skuValue = this.skuValue,\n          skuKeyStr = this.skuKeyStr;\n      this.skuEventBus.$emit('sku:previewImage', _extends({}, skuValue, {\n        ks: skuKeyStr,\n        imgUrl: skuValue.imgUrl || skuValue.img_url\n      }));\n    },\n    genImage: function genImage(classPrefix) {\n      var h = this.$createElement;\n\n      if (this.imgUrl) {\n        return h(Image, {\n          \"attrs\": {\n            \"fit\": \"cover\",\n            \"src\": this.imgUrl,\n            \"lazyLoad\": this.lazyLoad\n          },\n          \"class\": classPrefix + \"-img\"\n        });\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var classPrefix = this.largeImageMode ? bem('image-item') : bem('item');\n    return h(\"span\", {\n      \"class\": [classPrefix, choosed ? classPrefix + \"--active\" : '', !this.choosable ? classPrefix + \"--disabled\" : ''],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [this.genImage(classPrefix), h(\"div\", {\n      \"class\": classPrefix + \"-name\"\n    }, [this.largeImageMode ? h(\"span\", {\n      \"class\": {\n        'van-multi-ellipsis--l2': this.largeImageMode\n      }\n    }, [this.skuValue.name]) : this.skuValue.name]), this.largeImageMode && h(Icon, {\n      \"attrs\": {\n        \"name\": \"enlarge\"\n      },\n      \"class\": classPrefix + \"-img-icon\",\n      \"on\": {\n        \"click\": this.onPreviewImg\n      }\n    })]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}