{"ast":null,"code":"import \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Components\n\nimport Image from '../../image'; // Types\n\nvar _createNamespace = createNamespace('sku-header'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1];\nfunction getSkuImgValue(sku, selectedSku) {\n  var imgValue;\n  sku.tree.some(function (item) {\n    var id = selectedSku[item.k_s];\n    if (id && item.v) {\n      var matchedSku = item.v.filter(function (skuValue) {\n        return skuValue.id === id;\n      })[0] || {};\n      var img = matchedSku.previewImgUrl || matchedSku.imgUrl || matchedSku.img_url;\n      if (img) {\n        imgValue = _extends({}, matchedSku, {\n          ks: item.k_s,\n          imgUrl: img\n        });\n        return true;\n      }\n    }\n    return false;\n  });\n  return imgValue;\n}\nfunction SkuHeader(h, props, slots, ctx) {\n  var _slots$skuHeaderIma;\n  var sku = props.sku,\n    goods = props.goods,\n    skuEventBus = props.skuEventBus,\n    selectedSku = props.selectedSku,\n    _props$showHeaderImag = props.showHeaderImage,\n    showHeaderImage = _props$showHeaderImag === void 0 ? true : _props$showHeaderImag;\n  var selectedValue = getSkuImgValue(sku, selectedSku);\n  var imgUrl = selectedValue ? selectedValue.imgUrl : goods.picture;\n  var previewImage = function previewImage() {\n    skuEventBus.$emit('sku:previewImage', selectedValue);\n  };\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), BORDER_BOTTOM]\n  }, inherit(ctx)]), [showHeaderImage && h(Image, {\n    \"attrs\": {\n      \"fit\": \"cover\",\n      \"src\": imgUrl\n    },\n    \"class\": bem('img-wrap'),\n    \"on\": {\n      \"click\": previewImage\n    }\n  }, [(_slots$skuHeaderIma = slots['sku-header-image-extra']) == null ? void 0 : _slots$skuHeaderIma.call(slots)]), h(\"div\", {\n    \"class\": bem('goods-info')\n  }, [slots[\"default\"] == null ? void 0 : slots[\"default\"]()])]);\n}\nSkuHeader.props = {\n  sku: Object,\n  goods: Object,\n  skuEventBus: Object,\n  selectedSku: Object,\n  showHeaderImage: Boolean\n};\nexport default createComponent(SkuHeader);","map":{"version":3,"names":["_mergeJSXProps","_extends","createNamespace","inherit","BORDER_BOTTOM","Image","_createNamespace","createComponent","bem","getSkuImgValue","sku","selectedSku","imgValue","tree","some","item","id","k_s","v","matchedSku","filter","skuValue","img","previewImgUrl","imgUrl","img_url","ks","SkuHeader","h","props","slots","ctx","_slots$skuHeaderIma","goods","skuEventBus","_props$showHeaderImag","showHeaderImage","selectedValue","picture","previewImage","$emit","call","Object","Boolean"],"sources":["C:/Users/方鹏/Desktop/codingSpace/vue项目/vue-sell/node_modules/vant/es/sku/components/SkuHeader.js"],"sourcesContent":["import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Components\n\nimport Image from '../../image'; // Types\n\nvar _createNamespace = createNamespace('sku-header'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getSkuImgValue(sku, selectedSku) {\n  var imgValue;\n  sku.tree.some(function (item) {\n    var id = selectedSku[item.k_s];\n\n    if (id && item.v) {\n      var matchedSku = item.v.filter(function (skuValue) {\n        return skuValue.id === id;\n      })[0] || {};\n      var img = matchedSku.previewImgUrl || matchedSku.imgUrl || matchedSku.img_url;\n\n      if (img) {\n        imgValue = _extends({}, matchedSku, {\n          ks: item.k_s,\n          imgUrl: img\n        });\n        return true;\n      }\n    }\n\n    return false;\n  });\n  return imgValue;\n}\n\nfunction SkuHeader(h, props, slots, ctx) {\n  var _slots$skuHeaderIma;\n\n  var sku = props.sku,\n      goods = props.goods,\n      skuEventBus = props.skuEventBus,\n      selectedSku = props.selectedSku,\n      _props$showHeaderImag = props.showHeaderImage,\n      showHeaderImage = _props$showHeaderImag === void 0 ? true : _props$showHeaderImag;\n  var selectedValue = getSkuImgValue(sku, selectedSku);\n  var imgUrl = selectedValue ? selectedValue.imgUrl : goods.picture;\n\n  var previewImage = function previewImage() {\n    skuEventBus.$emit('sku:previewImage', selectedValue);\n  };\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), BORDER_BOTTOM]\n  }, inherit(ctx)]), [showHeaderImage && h(Image, {\n    \"attrs\": {\n      \"fit\": \"cover\",\n      \"src\": imgUrl\n    },\n    \"class\": bem('img-wrap'),\n    \"on\": {\n      \"click\": previewImage\n    }\n  }, [(_slots$skuHeaderIma = slots['sku-header-image-extra']) == null ? void 0 : _slots$skuHeaderIma.call(slots)]), h(\"div\", {\n    \"class\": bem('goods-info')\n  }, [slots.default == null ? void 0 : slots.default()])]);\n}\n\nSkuHeader.props = {\n  sku: Object,\n  goods: Object,\n  skuEventBus: Object,\n  selectedSku: Object,\n  showHeaderImage: Boolean\n};\nexport default createComponent(SkuHeader);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}