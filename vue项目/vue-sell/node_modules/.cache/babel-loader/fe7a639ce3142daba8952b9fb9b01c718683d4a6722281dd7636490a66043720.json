{"ast":null,"code":"import \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { isMobile } from '../utils/validate/mobile'; // Components\n\nimport Cell from '../cell';\nimport Field from '../field';\nimport Button from '../button';\nimport Dialog from '../dialog';\nimport Switch from '../switch';\nvar _createNamespace = createNamespace('contact-edit'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1],\n  t = _createNamespace[2];\nvar defaultContact = {\n  tel: '',\n  name: ''\n};\nexport default createComponent({\n  props: {\n    isEdit: Boolean,\n    isSaving: Boolean,\n    isDeleting: Boolean,\n    showSetDefault: Boolean,\n    setDefaultLabel: String,\n    contactInfo: {\n      type: Object,\n      \"default\": function _default() {\n        return _extends({}, defaultContact);\n      }\n    },\n    telValidator: {\n      type: Function,\n      \"default\": isMobile\n    }\n  },\n  data: function data() {\n    return {\n      data: _extends({}, defaultContact, this.contactInfo),\n      errorInfo: {\n        name: '',\n        tel: ''\n      }\n    };\n  },\n  watch: {\n    contactInfo: function contactInfo(val) {\n      this.data = _extends({}, defaultContact, val);\n    }\n  },\n  methods: {\n    onFocus: function onFocus(key) {\n      this.errorInfo[key] = '';\n    },\n    getErrorMessageByKey: function getErrorMessageByKey(key) {\n      var value = this.data[key].trim();\n      switch (key) {\n        case 'name':\n          return value ? '' : t('nameInvalid');\n        case 'tel':\n          return this.telValidator(value) ? '' : t('telInvalid');\n      }\n    },\n    onSave: function onSave() {\n      var _this = this;\n      var isValid = ['name', 'tel'].every(function (item) {\n        var msg = _this.getErrorMessageByKey(item);\n        if (msg) {\n          _this.errorInfo[item] = msg;\n        }\n        return !msg;\n      });\n      if (isValid && !this.isSaving) {\n        this.$emit('save', this.data);\n      }\n    },\n    onDelete: function onDelete() {\n      var _this2 = this;\n      Dialog.confirm({\n        title: t('confirmDelete')\n      }).then(function () {\n        _this2.$emit('delete', _this2.data);\n      });\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n    var h = arguments[0];\n    var data = this.data,\n      errorInfo = this.errorInfo;\n    var onFocus = function onFocus(name) {\n      return function () {\n        return _this3.onFocus(name);\n      };\n    };\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('fields')\n    }, [h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"maxlength\": \"30\",\n        \"label\": t('name'),\n        \"placeholder\": t('nameEmpty'),\n        \"errorMessage\": errorInfo.name\n      },\n      \"on\": {\n        \"focus\": onFocus('name')\n      },\n      \"model\": {\n        value: data.name,\n        callback: function callback($$v) {\n          _this3.$set(data, \"name\", $$v);\n        }\n      }\n    }), h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t('tel'),\n        \"placeholder\": t('telEmpty'),\n        \"errorMessage\": errorInfo.tel\n      },\n      \"on\": {\n        \"focus\": onFocus('tel')\n      },\n      \"model\": {\n        value: data.tel,\n        callback: function callback($$v) {\n          _this3.$set(data, \"tel\", $$v);\n        }\n      }\n    })]), this.showSetDefault && h(Cell, {\n      \"attrs\": {\n        \"title\": this.setDefaultLabel,\n        \"border\": false\n      },\n      \"class\": bem('switch-cell')\n    }, [h(Switch, {\n      \"attrs\": {\n        \"size\": 24\n      },\n      \"slot\": \"right-icon\",\n      \"on\": {\n        \"change\": function change(event) {\n          _this3.$emit('change-default', event);\n        }\n      },\n      \"model\": {\n        value: data.isDefault,\n        callback: function callback($$v) {\n          _this3.$set(data, \"isDefault\", $$v);\n        }\n      }\n    })]), h(\"div\", {\n      \"class\": bem('buttons')\n    }, [h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"type\": \"danger\",\n        \"text\": t('save'),\n        \"loading\": this.isSaving\n      },\n      \"on\": {\n        \"click\": this.onSave\n      }\n    }), this.isEdit && h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"text\": t('delete'),\n        \"loading\": this.isDeleting\n      },\n      \"on\": {\n        \"click\": this.onDelete\n      }\n    })])]);\n  }\n});","map":{"version":3,"names":["_extends","createNamespace","isMobile","Cell","Field","Button","Dialog","Switch","_createNamespace","createComponent","bem","t","defaultContact","tel","name","props","isEdit","Boolean","isSaving","isDeleting","showSetDefault","setDefaultLabel","String","contactInfo","type","Object","_default","telValidator","Function","data","errorInfo","watch","val","methods","onFocus","key","getErrorMessageByKey","value","trim","onSave","_this","isValid","every","item","msg","$emit","onDelete","_this2","confirm","title","then","render","_this3","h","arguments","callback","$$v","$set","change","event","isDefault"],"sources":["C:/Users/方鹏/Desktop/codingSpace/vue项目/vue-sell/node_modules/vant/es/contact-edit/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { isMobile } from '../utils/validate/mobile'; // Components\n\nimport Cell from '../cell';\nimport Field from '../field';\nimport Button from '../button';\nimport Dialog from '../dialog';\nimport Switch from '../switch';\n\nvar _createNamespace = createNamespace('contact-edit'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar defaultContact = {\n  tel: '',\n  name: ''\n};\nexport default createComponent({\n  props: {\n    isEdit: Boolean,\n    isSaving: Boolean,\n    isDeleting: Boolean,\n    showSetDefault: Boolean,\n    setDefaultLabel: String,\n    contactInfo: {\n      type: Object,\n      default: function _default() {\n        return _extends({}, defaultContact);\n      }\n    },\n    telValidator: {\n      type: Function,\n      default: isMobile\n    }\n  },\n  data: function data() {\n    return {\n      data: _extends({}, defaultContact, this.contactInfo),\n      errorInfo: {\n        name: '',\n        tel: ''\n      }\n    };\n  },\n  watch: {\n    contactInfo: function contactInfo(val) {\n      this.data = _extends({}, defaultContact, val);\n    }\n  },\n  methods: {\n    onFocus: function onFocus(key) {\n      this.errorInfo[key] = '';\n    },\n    getErrorMessageByKey: function getErrorMessageByKey(key) {\n      var value = this.data[key].trim();\n\n      switch (key) {\n        case 'name':\n          return value ? '' : t('nameInvalid');\n\n        case 'tel':\n          return this.telValidator(value) ? '' : t('telInvalid');\n      }\n    },\n    onSave: function onSave() {\n      var _this = this;\n\n      var isValid = ['name', 'tel'].every(function (item) {\n        var msg = _this.getErrorMessageByKey(item);\n\n        if (msg) {\n          _this.errorInfo[item] = msg;\n        }\n\n        return !msg;\n      });\n\n      if (isValid && !this.isSaving) {\n        this.$emit('save', this.data);\n      }\n    },\n    onDelete: function onDelete() {\n      var _this2 = this;\n\n      Dialog.confirm({\n        title: t('confirmDelete')\n      }).then(function () {\n        _this2.$emit('delete', _this2.data);\n      });\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var data = this.data,\n        errorInfo = this.errorInfo;\n\n    var onFocus = function onFocus(name) {\n      return function () {\n        return _this3.onFocus(name);\n      };\n    };\n\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('fields')\n    }, [h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"maxlength\": \"30\",\n        \"label\": t('name'),\n        \"placeholder\": t('nameEmpty'),\n        \"errorMessage\": errorInfo.name\n      },\n      \"on\": {\n        \"focus\": onFocus('name')\n      },\n      \"model\": {\n        value: data.name,\n        callback: function callback($$v) {\n          _this3.$set(data, \"name\", $$v);\n        }\n      }\n    }), h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t('tel'),\n        \"placeholder\": t('telEmpty'),\n        \"errorMessage\": errorInfo.tel\n      },\n      \"on\": {\n        \"focus\": onFocus('tel')\n      },\n      \"model\": {\n        value: data.tel,\n        callback: function callback($$v) {\n          _this3.$set(data, \"tel\", $$v);\n        }\n      }\n    })]), this.showSetDefault && h(Cell, {\n      \"attrs\": {\n        \"title\": this.setDefaultLabel,\n        \"border\": false\n      },\n      \"class\": bem('switch-cell')\n    }, [h(Switch, {\n      \"attrs\": {\n        \"size\": 24\n      },\n      \"slot\": \"right-icon\",\n      \"on\": {\n        \"change\": function change(event) {\n          _this3.$emit('change-default', event);\n        }\n      },\n      \"model\": {\n        value: data.isDefault,\n        callback: function callback($$v) {\n          _this3.$set(data, \"isDefault\", $$v);\n        }\n      }\n    })]), h(\"div\", {\n      \"class\": bem('buttons')\n    }, [h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"type\": \"danger\",\n        \"text\": t('save'),\n        \"loading\": this.isSaving\n      },\n      \"on\": {\n        \"click\": this.onSave\n      }\n    }), this.isEdit && h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"text\": t('delete'),\n        \"loading\": this.isDeleting\n      },\n      \"on\": {\n        \"click\": this.onDelete\n      }\n    })])]);\n  }\n});"],"mappings":";;;;AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD;AACA,SAASC,eAAe,QAAQ,UAAU;AAC1C,SAASC,QAAQ,QAAQ,0BAA0B,CAAC,CAAC;;AAErD,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,MAAM,MAAM,WAAW;AAE9B,IAAIC,gBAAgB,GAAGP,eAAe,CAAC,cAAc,CAAC;EAClDQ,eAAe,GAAGD,gBAAgB,CAAC,CAAC,CAAC;EACrCE,GAAG,GAAGF,gBAAgB,CAAC,CAAC,CAAC;EACzBG,CAAC,GAAGH,gBAAgB,CAAC,CAAC,CAAC;AAE3B,IAAII,cAAc,GAAG;EACnBC,GAAG,EAAE,EAAE;EACPC,IAAI,EAAE;AACR,CAAC;AACD,eAAeL,eAAe,CAAC;EAC7BM,KAAK,EAAE;IACLC,MAAM,EAAEC,OAAO;IACfC,QAAQ,EAAED,OAAO;IACjBE,UAAU,EAAEF,OAAO;IACnBG,cAAc,EAAEH,OAAO;IACvBI,eAAe,EAAEC,MAAM;IACvBC,WAAW,EAAE;MACXC,IAAI,EAAEC,MAAM;MACZ,WAAS,SAASC,QAAQA,CAAA,EAAG;QAC3B,OAAO1B,QAAQ,CAAC,CAAC,CAAC,EAAEY,cAAc,CAAC;MACrC;IACF,CAAC;IACDe,YAAY,EAAE;MACZH,IAAI,EAAEI,QAAQ;MACd,WAAS1B;IACX;EACF,CAAC;EACD2B,IAAI,EAAE,SAASA,IAAIA,CAAA,EAAG;IACpB,OAAO;MACLA,IAAI,EAAE7B,QAAQ,CAAC,CAAC,CAAC,EAAEY,cAAc,EAAE,IAAI,CAACW,WAAW,CAAC;MACpDO,SAAS,EAAE;QACThB,IAAI,EAAE,EAAE;QACRD,GAAG,EAAE;MACP;IACF,CAAC;EACH,CAAC;EACDkB,KAAK,EAAE;IACLR,WAAW,EAAE,SAASA,WAAWA,CAACS,GAAG,EAAE;MACrC,IAAI,CAACH,IAAI,GAAG7B,QAAQ,CAAC,CAAC,CAAC,EAAEY,cAAc,EAAEoB,GAAG,CAAC;IAC/C;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAO,EAAE,SAASA,OAAOA,CAACC,GAAG,EAAE;MAC7B,IAAI,CAACL,SAAS,CAACK,GAAG,CAAC,GAAG,EAAE;IAC1B,CAAC;IACDC,oBAAoB,EAAE,SAASA,oBAAoBA,CAACD,GAAG,EAAE;MACvD,IAAIE,KAAK,GAAG,IAAI,CAACR,IAAI,CAACM,GAAG,CAAC,CAACG,IAAI,CAAC,CAAC;MAEjC,QAAQH,GAAG;QACT,KAAK,MAAM;UACT,OAAOE,KAAK,GAAG,EAAE,GAAG1B,CAAC,CAAC,aAAa,CAAC;QAEtC,KAAK,KAAK;UACR,OAAO,IAAI,CAACgB,YAAY,CAACU,KAAK,CAAC,GAAG,EAAE,GAAG1B,CAAC,CAAC,YAAY,CAAC;MAC1D;IACF,CAAC;IACD4B,MAAM,EAAE,SAASA,MAAMA,CAAA,EAAG;MACxB,IAAIC,KAAK,GAAG,IAAI;MAEhB,IAAIC,OAAO,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAACC,KAAK,CAAC,UAAUC,IAAI,EAAE;QAClD,IAAIC,GAAG,GAAGJ,KAAK,CAACJ,oBAAoB,CAACO,IAAI,CAAC;QAE1C,IAAIC,GAAG,EAAE;UACPJ,KAAK,CAACV,SAAS,CAACa,IAAI,CAAC,GAAGC,GAAG;QAC7B;QAEA,OAAO,CAACA,GAAG;MACb,CAAC,CAAC;MAEF,IAAIH,OAAO,IAAI,CAAC,IAAI,CAACvB,QAAQ,EAAE;QAC7B,IAAI,CAAC2B,KAAK,CAAC,MAAM,EAAE,IAAI,CAAChB,IAAI,CAAC;MAC/B;IACF,CAAC;IACDiB,QAAQ,EAAE,SAASA,QAAQA,CAAA,EAAG;MAC5B,IAAIC,MAAM,GAAG,IAAI;MAEjBzC,MAAM,CAAC0C,OAAO,CAAC;QACbC,KAAK,EAAEtC,CAAC,CAAC,eAAe;MAC1B,CAAC,CAAC,CAACuC,IAAI,CAAC,YAAY;QAClBH,MAAM,CAACF,KAAK,CAAC,QAAQ,EAAEE,MAAM,CAAClB,IAAI,CAAC;MACrC,CAAC,CAAC;IACJ;EACF,CAAC;EACDsB,MAAM,EAAE,SAASA,MAAMA,CAAA,EAAG;IACxB,IAAIC,MAAM,GAAG,IAAI;IAEjB,IAAIC,CAAC,GAAGC,SAAS,CAAC,CAAC,CAAC;IACpB,IAAIzB,IAAI,GAAG,IAAI,CAACA,IAAI;MAChBC,SAAS,GAAG,IAAI,CAACA,SAAS;IAE9B,IAAII,OAAO,GAAG,SAASA,OAAOA,CAACpB,IAAI,EAAE;MACnC,OAAO,YAAY;QACjB,OAAOsC,MAAM,CAAClB,OAAO,CAACpB,IAAI,CAAC;MAC7B,CAAC;IACH,CAAC;IAED,OAAOuC,CAAC,CAAC,KAAK,EAAE;MACd,OAAO,EAAE3C,GAAG,CAAC;IACf,CAAC,EAAE,CAAC2C,CAAC,CAAC,KAAK,EAAE;MACX,OAAO,EAAE3C,GAAG,CAAC,QAAQ;IACvB,CAAC,EAAE,CAAC2C,CAAC,CAACjD,KAAK,EAAE;MACX,OAAO,EAAE;QACP,WAAW,EAAE,IAAI;QACjB,WAAW,EAAE,IAAI;QACjB,OAAO,EAAEO,CAAC,CAAC,MAAM,CAAC;QAClB,aAAa,EAAEA,CAAC,CAAC,WAAW,CAAC;QAC7B,cAAc,EAAEmB,SAAS,CAAChB;MAC5B,CAAC;MACD,IAAI,EAAE;QACJ,OAAO,EAAEoB,OAAO,CAAC,MAAM;MACzB,CAAC;MACD,OAAO,EAAE;QACPG,KAAK,EAAER,IAAI,CAACf,IAAI;QAChByC,QAAQ,EAAE,SAASA,QAAQA,CAACC,GAAG,EAAE;UAC/BJ,MAAM,CAACK,IAAI,CAAC5B,IAAI,EAAE,MAAM,EAAE2B,GAAG,CAAC;QAChC;MACF;IACF,CAAC,CAAC,EAAEH,CAAC,CAACjD,KAAK,EAAE;MACX,OAAO,EAAE;QACP,WAAW,EAAE,IAAI;QACjB,MAAM,EAAE,KAAK;QACb,OAAO,EAAEO,CAAC,CAAC,KAAK,CAAC;QACjB,aAAa,EAAEA,CAAC,CAAC,UAAU,CAAC;QAC5B,cAAc,EAAEmB,SAAS,CAACjB;MAC5B,CAAC;MACD,IAAI,EAAE;QACJ,OAAO,EAAEqB,OAAO,CAAC,KAAK;MACxB,CAAC;MACD,OAAO,EAAE;QACPG,KAAK,EAAER,IAAI,CAAChB,GAAG;QACf0C,QAAQ,EAAE,SAASA,QAAQA,CAACC,GAAG,EAAE;UAC/BJ,MAAM,CAACK,IAAI,CAAC5B,IAAI,EAAE,KAAK,EAAE2B,GAAG,CAAC;QAC/B;MACF;IACF,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACpC,cAAc,IAAIiC,CAAC,CAAClD,IAAI,EAAE;MACnC,OAAO,EAAE;QACP,OAAO,EAAE,IAAI,CAACkB,eAAe;QAC7B,QAAQ,EAAE;MACZ,CAAC;MACD,OAAO,EAAEX,GAAG,CAAC,aAAa;IAC5B,CAAC,EAAE,CAAC2C,CAAC,CAAC9C,MAAM,EAAE;MACZ,OAAO,EAAE;QACP,MAAM,EAAE;MACV,CAAC;MACD,MAAM,EAAE,YAAY;MACpB,IAAI,EAAE;QACJ,QAAQ,EAAE,SAASmD,MAAMA,CAACC,KAAK,EAAE;UAC/BP,MAAM,CAACP,KAAK,CAAC,gBAAgB,EAAEc,KAAK,CAAC;QACvC;MACF,CAAC;MACD,OAAO,EAAE;QACPtB,KAAK,EAAER,IAAI,CAAC+B,SAAS;QACrBL,QAAQ,EAAE,SAASA,QAAQA,CAACC,GAAG,EAAE;UAC/BJ,MAAM,CAACK,IAAI,CAAC5B,IAAI,EAAE,WAAW,EAAE2B,GAAG,CAAC;QACrC;MACF;IACF,CAAC,CAAC,CAAC,CAAC,EAAEH,CAAC,CAAC,KAAK,EAAE;MACb,OAAO,EAAE3C,GAAG,CAAC,SAAS;IACxB,CAAC,EAAE,CAAC2C,CAAC,CAAChD,MAAM,EAAE;MACZ,OAAO,EAAE;QACP,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI;QACb,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAEM,CAAC,CAAC,MAAM,CAAC;QACjB,SAAS,EAAE,IAAI,CAACO;MAClB,CAAC;MACD,IAAI,EAAE;QACJ,OAAO,EAAE,IAAI,CAACqB;MAChB;IACF,CAAC,CAAC,EAAE,IAAI,CAACvB,MAAM,IAAIqC,CAAC,CAAChD,MAAM,EAAE;MAC3B,OAAO,EAAE;QACP,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI;QACb,MAAM,EAAEM,CAAC,CAAC,QAAQ,CAAC;QACnB,SAAS,EAAE,IAAI,CAACQ;MAClB,CAAC;MACD,IAAI,EAAE;QACJ,OAAO,EAAE,IAAI,CAAC2B;MAChB;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACR;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}